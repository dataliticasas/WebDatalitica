---
interface Props {
  navigation: {
    href: string;
    text: string;
    title: string;
    secondary?: boolean;
  }[];

  socials: {
    href: string;
    icon: string;
  }[];
}

const { navigation, socials } = Astro.props;

const icons: { [key: string]: string } = {
  facebook: "/images/ca9.png",
  twitter: "/images/ls2.png",
  linkedin: "/images/bt3.png",
  dribble: "/images/x5j.png",
  instagram: "/images/instagramIcon.png",
};
---

<footer
  class="bg-primary flex flex-col items-center text-white pt-0 md:pt-10 px-4"
>
  <div class="flex justify-between w-full max-w-6xl py-10">
    <div class="flex flex-col w-full md:w-7/12">
      <img src="/images/ac2.png" class="w-[220px] md:w-[300px]" />
      <p class="hidden md:block text-sm w-[300px] py-5">
        Transform your business with our customized digital solutions. Maximize the potential of your data with us.
      </p>

      <div class="block md:hidden pt-8 pb-4">
        <dl>
          <div class="py-4 border-b border-gray-400" id="quick-link-accordion">
            <dt>
              <button
                type="button"
                class="flex w-full items-start justify-between text-left text-white"
                aria-controls="quicklink-0"
                aria-expanded="false"
              >
                <span class="text-xl font-semibold leading-7">Quick link</span>
                <span class="ml-6 flex h-7 items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                  </svg>

                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="hidden w-6 h-6"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M4.5 15.75l7.5-7.5 7.5 7.5"></path>
                  </svg>
                </span>
              </button>
            </dt>
            <dd class="mt-2 hidden" id="quicklink-0">
              <ul class="font-light text-sm">
                {
                  navigation.map((el, i) => (
                    <li class={`${i !== navigation.length - 1 && "mb-2"}`}>
                      <a href={el.href}>{el.text}</a>
                    </li>
                  ))
                }
              </ul>
            </dd>
          </div>
        </dl>

        <dl>
          <div class="py-4 border-b border-gray-400" id="contact-accordion">
            <dt>
              <button
                type="button"
                class="flex w-full items-start justify-between text-left text-white"
                aria-controls="contact-0"
                aria-expanded="false"
              >
                <span class="text-xl font-semibold leading-7">Contacto</span>
                <span class="ml-6 flex h-7 items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                  </svg>

                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="hidden w-6 h-6"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M4.5 15.75l7.5-7.5 7.5 7.5"></path>
                  </svg>
                </span>
              </button>
            </dt>
            <dd class="mt-2 pr-12 hidden" id="contact-0">
              <ul class="font-light text-sm">
                <li class="mb-2"><a href="#">contacto@datalitica.com.ar</a></li>
                <li class="mb-2"><a href="#">+5493813201906</a></li>
                <li class="mb-2"><a href="#">+5493813325339</a></li>
              </ul>
            </dd>
          </div>
        </dl>
      </div>

      <div class="flex justify-between items-center md:block pt-10 md:pt-0">
        <h3 class="md:hidden text-xl">Seguinos</h3>
        <div class="flex">
          {
            socials.map((el, i) => (
              <a href={el.href} rel="noreferrer" target="_blank">
                <img
                  src={icons[el.icon]}
                  alt={el.icon}
                  class={`w-[30px] ${i !== 0 && "ml-2"}`}
                />
              </a>
            ))
          }
        </div>
      </div>
    </div>
    <div class="hidden md:flex justify-around w-5/12">
      <div>
        <h3 class="font-semibold mb-6">Quick Links</h3>
        <ul class="font-light text-sm">
          {
            navigation.map((el, i) => (
              <li class={`${i !== navigation.length - 1 && "mb-2"}`}>
                <a href={el.href}>{el.text}</a>
              </li>
            ))
          }
        </ul>
      </div>
      <div>
        <h3 class="font-semibold mb-6">Contact information</h3>
        <ul class="font-light text-sm">
          <li class="mb-2"><a href="#">contacto@datalitica.com.ar</a></li>
          <li class="mb-2"><a href="#">+5493813201906</a></li>
          <li class="mb-2"><a href="#">+5493813325339</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div
    class="flex flex-col-reverse md:flex-row justify-between w-full max-w-6xl pb-10 md:py-10 text-xs sm:text-base md:text-sm md:border-t"
  >
    <div class="text-gray-500 md:text-white pt-4 md:pt-0">
      DATALITICAÂ© 2023 All rights reserved
    </div>
    <div class="flex pb-4 md:pb-0 border-b border-gray-400 md:border-0">
      <div class="pr-5 md:pr-20">Privacy Policy</div>
      <div>Terms of use</div>
    </div>
  </div>
</footer>

<script>
  function handle(button: any, content: any) {
    const isExpanded = button.getAttribute("aria-expanded") === "true";

    if (isExpanded) {
      content.classList.add("hidden");
    } else {
      content.classList.remove("hidden");
    }

    button.setAttribute("aria-expanded", String(!isExpanded));

    const icons = button.querySelectorAll("svg");
    icons.forEach((icon: any) => icon.classList.toggle("hidden"));
  }

  const accordionButtons = window.document.querySelectorAll("[aria-expanded]")!;

  accordionButtons.forEach((button) => {
    const accordionContentId = button.getAttribute("aria-controls")!;
    const accordionContent = window.document.getElementById(accordionContentId);

    button.addEventListener("click", () => handle(button, accordionContent));
  });
</script>
